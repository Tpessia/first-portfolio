$(function(){$(document).on("mainAjax",function(){main_loading(),main_initializers(),main_bindAnimations(),main_clickHandlers()})});var isIE9OrBelow=function(){return/MSIE\s/.test(navigator.userAgent)&&parseFloat(navigator.appVersion.split("MSIE")[1])<10};function TemplateManager(t){this.template=t}function main_loading(){function t(){$ldnLogo.one("animationiteration",function(){$body.trigger("load-finishing"),$body.css("overflow","initial"),$ldn.animate({opacity:0},1e3,function(){$body.removeClass("loading")})})}$ldn=$("#ldn"),$ldnLogo=$ldn.children("img"),$body=$("body"),isIE9OrBelow()&&($body.removeClass("loading"),$body.css("overflow","visible"),$ldn.css("opacity","0")),"complete"==document.readyState?t():$(window).on("load",function(){t()})}function main_initializers(){$(".collapsible").collapsible(),$(".button-collapse").sideNav({closeOnClick:!0}),$(document).ready(function(){$(".modal").modal()}),$(".nav-content").hasClass("hide")||$("#searchVal").autocomplete({data:JsonToAutocomplete([projetos,cursos]),limit:3,onAutocomplete:function(t){var n=projetos[t],e=cursos[t],o=jQuery.isEmptyObject(n)?"/sobre/#"+e.id:"/projetos/#"+n.id;window.location.replace(o)},minLength:1}).on("focus",function(){var t=Object.keys(projetos),n=Object.keys(cursos);$(".autocomplete-content").html('<small style="display: block; padding-top: 3px; padding-bottom: 3px; padding-left: 16px; color: rgba(0, 0, 0, 0.5);">Sugest√µes</small><li><span>'+t.pop()+"</span></li><li><span>"+n.pop()+"</span></li><li><span>"+t.pop()+"</span></li>")})}function main_bindAnimations(){function t(t){var n=600<window.innerWidth?64:0;try{$("html, body").animate({scrollTop:$(t).offset().top-n},1500)}catch(t){}}location.hash&&$("body").on("load-finishing",function(){window.scrollTo(0,0),t(location.hash)}),$(window).on("hashchange",function(){window.scrollTo(0,0),t(location.hash)}),$("footer a img").on("mouseenter",function(){$(this).css({transition:"transform .6s ease-in-out",transform:"rotateY(360deg)"}),$(this).one("transitionend",function(){$(this).css({transition:"none",transform:"rotateY(0deg)"})})})}function main_clickHandlers(){$("#searchVal").on("search",function(){$autocomplete=$(".autocomplete-content li"),1==$autocomplete.length&&$autocomplete.trigger("mousedown")}),$("#close").on("click",function(){$("#searchVal").blur(),$("#searchVal").val("")})}function JsonToAutocomplete(t){for(var n={content:{},names:{}},e=0;e<t.length;e++)n.content=$.extend({},n.content,t[e]);for(var e in n.content)n.names[e]=null;return n.names}function checkLinksProjetos(t,n){$(t).each(function(){var t=$(this).find(n);$.ajax({url:t.attr("href"),type:"HEAD",error:function(){""!=t.attr("fallback-url")&&void 0!==t.attr("fallback-url")?$.ajax({url:t.attr("fallback-url"),success:function(){t.attr("href",t.attr("fallback-url"))},error:function(){t.addClass("disabled")}}):t.addClass("disabled")}})})}function smartHover(t){var n=document.querySelectorAll(t),o=[].slice.call(n,0),e=function(t,n,e){var o,a,i,s,r,c,l=(o=t,i=(a=n).offsetWidth,s=a.offsetHeight,r=o.pageX-a.offsetLeft-i/2*(s<i?s/i:1),c=o.pageY-a.offsetTop-s/2*(i<s?i/s:1),Math.round(Math.atan2(c,r)/1.57079633+5)%4),u="";switch($(n).removeClass(function(t,n){return(n.match(/(^|\s)in-\S+/g)||[]).join(" ")}).removeClass(function(t,n){return(n.match(/(^|\s)out-\S+/g)||[]).join(" ")}),l){case 0:u="-top";break;case 1:u="-right";break;case 2:u="-bottom";break;case 3:u="-left"}n.classList.add(e+u),$(n).trigger(e)};o.forEach(function(n){n.addEventListener("mouseover",function(t){$(n).is('[class*="in"]')||/Mobi/i.test(navigator.userAgent)||/Android/i.test(navigator.userAgent)||e(t,this,"in")},!1),n.addEventListener("mouseleave",function(t){$(n).is('[class*="out"]')||/Mobi/i.test(navigator.userAgent)||/Android/i.test(navigator.userAgent)||e(t,this,"out")},!1)}),$(o).each(function(){function e(t,n){var e=$(o).find(".card-reveal").not(n);e.removeClass(function(t,n){return(n.match(/(^|\s)from\S+/g)||[]).join(" ")}),e.one("transitionend",function(){e.is("[class*=from]")||e.removeClass(function(t,n){return(n.match(/(^|\s)pre\S+/g)||[]).join(" ")})})}$(this).on("in",function(){var t=$(this).attr("class").split(" ").filter(function(t){return t.match("in-")})[0].split("in-")[1];t=t[0].toUpperCase()+t.substr(1);var n=$(this).find(".card-reveal");n.addClass("pre"+t),setTimeout(function(){n.addClass("from"+t)},5)}),$(this).on("out",function(){var t=$(this).attr("class").split(" ").filter(function(t){return t.match("out-")})[0].split("out-")[1];t=t[0].toUpperCase()+t.substr(1);var n=$(this).find(".card-reveal");n.removeClass(function(t,n){return(n.match(/(^|\s)pre\S+/g)||[]).join(" ")}).addClass("pre"+t),n.removeClass(function(t,n){return(n.match(/(^|\s)from\S+/g)||[]).join(" ")}),n.one("transitionend",function(){n.removeClass(function(t,n){return(n.match(/(^|\s)pre\S+/g)||[]).join(" ")})})}),$(this).on("click",function(t){if(/Mobi/i.test(navigator.userAgent)||/Android/i.test(navigator.userAgent)||isIE9OrBelow()){t.stopPropagation();var n=$(this).find(".card-reveal");e(t,n),n.addClass("preBottom"),setTimeout(function(){n.addClass("fromBottom")},5)}}),$(document).on("click",function(t){(/Mobi/i.test(navigator.userAgent)||/Android/i.test(navigator.userAgent)||isIE9OrBelow())&&e(t,"")})})}TemplateManager.prototype.generateContent=function(t){var n=this.template;for(var e in t)if(Array.isArray(t[e])){var o=(l=new RegExp("##","g")).exec(n).index,a=l.exec(n).index+2,i=n.substring(o,a),s=i.substring(2,i.length-2),r="";for(var c in t[e]){var l=new RegExp("%%"+e+"%%","gi");r+=s.replace(l,t[e][c])}n=n.replace(i,r)}else{l=new RegExp("%%"+e+"%%","gi");n=n.replace(l,t[e])}return n},TemplateManager.prototype.JsonToContent=function(t,n,e){var o=[],a=0;if(void 0!==e&&null!=e||(e=!1),e)for(var i=Object.keys(t).length-1;0<=i&&!(void 0!==n&&null!=n&&n<=a);i--){var s=t[Object.keys(t)[i]],r=new TemplateManager(this.template);o.push(r.generateContent(s)),a++}else for(i=0;i<Object.keys(t).length&&!(void 0!==n&&null!=n&&n<=a);i++){s=t[Object.keys(t)[i]],r=new TemplateManager(this.template);o.push(r.generateContent(s)),a++}return o},$(function(){$(document).on("mainAjax",function(){$(".modal").modal(),$("form").on("submit",function(t){t.preventDefault();var n={nome:$("#first_name").val()+" "+$("#last_name").val(),email:$("#email").val(),assunto:$("#subject").val(),mensagem:$("#message").val().replace(/(?:\r\n|\r|\n)/g,"<br />")};$.ajax({method:"POST",url:"/assets/php/contact.php",data:n,success:function(t){"1"==t?($("#email, #subject, #message, #first_name, #last_name").val("").trigger("focusin").trigger("focusout"),$("#modal_success").modal("open")):$("#modal_error").modal("open")},error:function(){$("#modal_error").modal("open")}})})}),$.ajax({url:"/assets/contents/projetos.json",datatype:"json",success:function(t){projetos=t},complete:function(){$(document).trigger("projetos")}}),$(document).on("projetos",function(){$.ajax({url:"/assets/contents/cursos.json",datatype:"json",success:function(t){cursos=t},complete:function(){$(document).trigger("mainAjax")}})})});
//# sourceMappingURL=contato.min.js.map