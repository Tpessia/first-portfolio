<div class="row userplaylists" ng-if="user.isLogged">
    <div class="col s12">
        <h3 class="main-title">
            SAVED PLAYLISTS
        </h3>
    </div>
    <div class="col s12 carousel-wrapper" ng-if="activePlaylist">
        <carousel-playlists playlists="playlists" on-slide="selectPlaylist(name)" initial-slide="activePlaylist.index"></carousel-playlists>
    </div>
    <div class="col s12 focused-playlist" ng-if="activePlaylist">
        <hr>
        <h4 class="playlist-title">
            <div class="options">
                <a ng-click="ytVideo.playCustomPlaylist(activePlaylist.name);">
                    <i class="material-icons">play_arrow</i>
                </a>
                <a ng-click="showInput()">
                    <i class="material-icons">edit</i>
                </a>
                <a ng-click="deletePlaylsit(activePlaylist.name)">
                    <i class="material-icons">delete</i>
                </a>
            </div>
            <div class="title-wrapper">
                <span class="playlist-name" ng-if="!state.renamingPlaylist">{{ activePlaylist.name }}</span>
                <span ng-if="state.renamingPlaylist" ng-init="tempName = activePlaylist.name">
                    <span class="playlist-name" >
                        <input type="text" ng-model="tempName" ng-blur="onBlur()" ng-keydown="$event.keyCode === 13 && renamePlaylist(activePlaylist.name, tempName)">
                    </span>
                    <i class="material-icons" ng-click="renamePlaylist(activePlaylist.name, tempName)">check</i>
                </span>
            </div>
        </h4>
        <ul class="playlist-tracks">
            <li class="empty-list" ng-if="activePlaylist.list.length == 0">
                This list is empty.
            </li>
            <li class="row valign-wrapper track-item" ng-repeat="music in activePlaylist.list track by $index">
                <a class="col s1 remove-track" ng-click="removeTrack(activePlaylist.name, $index)">
                    <i class="material-icons">close</i>
                </a>
                <div class="col s11 track-title">
                    <span class="track-title-wrapper" ng-click="ytVideo.open({ type: 'id', id: music.id });">
                        <div class="track-image">
                            <img ng-src="{{ music.img }}">
                        </div>
                        <div class="track-name">
                            <a>{{ music.title }}</a>
                        </div>
                    </span>
                </div>
            </li>
        </ul>
    </div>
    <div class="col s12" ng-if="!activePlaylist">
        <p>
            No playlist created yet.
        </p>
    </div>
</div>