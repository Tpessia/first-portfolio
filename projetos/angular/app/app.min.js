var app=angular.module("noisePolution",["ngRoute"]);app.config(function($routeProvider){$routeProvider.when("/",{controller:"HomeController",templateUrl:"/app/home/home.partial.html"}).when("/tracks",{controller:"TracksController",templateUrl:"/app/tracks/tracks.partial.html"}).when("/artists",{controller:"ArtistsController",templateUrl:"/app/artists/artists.partial.html"}).when("/albuns",{controller:"AlbunsController",templateUrl:"/app/albuns/albuns.partial.html"}).otherwise({redirectTo:"/"})}),app.controller("PaginationController",function($scope){$scope.currentPage=1,$scope.offsetPage=0,$scope.nextPage=function(){$scope.currentPage+1==$scope.offsetPage+$scope.maxPage&&$scope.offsetPage++,$scope.currentPage+=1,console.log("$scope.currentPage "+$scope.currentPage),console.log("$scope.offsetPage "+$scope.offsetPage)},$scope.prevPage=function(){if($scope.currentPage-1<=0)return!1;$scope.currentPage-1==$scope.offsetPage+1&&0<$scope.currentPage-2&&$scope.offsetPage--,$scope.currentPage-=1,console.log("$scope.currentPage "+$scope.currentPage),console.log("$scope.offsetPage "+$scope.offsetPage)},$scope.goToPage=function(page){page==$scope.offsetPage+$scope.maxPage?$scope.offsetPage++:page==$scope.offsetPage+1&&page-1!=0&&$scope.offsetPage--,$scope.currentPage=page,console.log("$scope.currentPage "+$scope.currentPage),console.log("$scope.offsetPage "+$scope.offsetPage)},$scope.getNumber=function(num){return new Array(num)},$scope.$watch("currentPage",function(newVal,oldVal){newVal!==oldVal&&($scope.pageChangeFunc({page:newVal}),console.log(oldVal+" "+newVal))})}),app.directive("materializePag",function(){return{scope:{maxPage:"=maxPage",pageChangeFunc:"&pageChangeFunc"},templateUrl:"app/directives/pagination.directive.html",transclude:!0}}),app.service("albunsService",function(){}),app.service("artistsService",function(){}),app.service("topsService",function($http){this.getTopTracks=function(page){return $http.get("//ws.audioscrobbler.com/2.0/?method=chart.gettoptracks&api_key=a431af7680e5bd6e612b0eefd5448a06&format=json&limit=5&page="+page)},this.getTopArtists=function(page){return $http.get("//ws.audioscrobbler.com/2.0/?method=chart.gettopartists&api_key=a431af7680e5bd6e612b0eefd5448a06&format=json&limit=5&page="+page)},this.getTopTags=function(page){return $http.get("//ws.audioscrobbler.com/2.0/?method=chart.gettoptags&api_key=a431af7680e5bd6e612b0eefd5448a06&format=json&limit=5&page="+page)}}),app.service("tracksService",function(){}),app.controller("AlbunsController",function($scope,albunsService){}),app.controller("ArtistsController",function($scope,artistsService){}),app.controller("HomeController",function($scope,topsService){$scope.getTopTracks=function(page){topsService.getTopTracks(page).then(function(response){$scope.tracks=response.data.tracks.track.slice(-5),console.log(response.data)})},$scope.getTopArtists=function(page){topsService.getTopArtists(page).then(function(response){$scope.artists=response.data.artists.artist.slice(-5),console.log(response.data)})},$scope.getTopTags=function(page){topsService.getTopTags(page).then(function(response){$scope.tags=response.data.tags.tag.slice(-5),console.log(response.data)})},$scope.getTopTracks(1),$scope.getTopArtists(1),$scope.getTopTags(1)}),app.controller("HeaderController",function($scope,$location){$scope.navItens=[{text:"Home",url:"/"},{text:"Tracks",url:"/tracks"},{text:"Artists",url:"/artists"},{text:"Albuns",url:"/albuns"}],$scope.isActive=function(url){return url==$location.path()}}),app.controller("TracksController",function($scope,tracksService){});
//# sourceMappingURL=app.min.js.map